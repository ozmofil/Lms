using System.IO;
using System.Threading.Tasks;

namespace LmsPoc.Application.Interfaces
{
    /// <summary>
    /// Uygulamanın dosya saklama ile ilgili ihtiyaçlarını temsil eden
    /// soyut servis. AWS S3, Azure Blob vb. somut implementasyonlar
    /// Infrastructure katmanında olacak.
    /// </summary>
    public interface IStorageService
    {
        /// <summary>
        /// Verilen içeriği storage'a yükler ve erişim URL'ini döner.
        /// </summary>
        Task<string> UploadAsync(string key, Stream content, string contentType);

        /// <summary>
        /// Verilen key için public (veya pre-signed) URL üretir.
        /// Sadece URL gerekiyorsa bu metod kullanılır.
        /// </summary>
        Task<string> GetFileUrlAsync(string key);

        /// <summary>
        /// Verilen key'e ait dosyayı storage'tan siler.
        /// </summary>
        Task DeleteFileAsync(string key);
    }
}
